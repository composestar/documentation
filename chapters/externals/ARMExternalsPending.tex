Which are declared first, the internals or the externals? 
To be more concrete, will \autoref{lst::ARM:fmp:pending1} work or not? 
And does it always work? 
If the internals are earlier declared then the external, then the example works and there are no further problems. 
(The given example is probably not the best way to combine internals and externals.)

\begin{lstlisting}[caption = {A filtermodule with an external from an internal},label=lst::ARM:fmp:pending1,style=listing,language=ComposeStar,float=tpb]
filtermodule pending(){
  internals
    i : Distribution;
  externals
    e : Object = i.getSingleton();
}
\end{lstlisting}